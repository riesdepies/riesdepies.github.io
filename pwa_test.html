<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple PWA</title>

    <!-- Manifest JSON inline -->
    <link rel="manifest" href="data:application/json,%7B%22name%22:%20%22Simple%20PWA%22,%22short_name%22:%20%22PWA%22,%22icons%22:%5B%7B%22src%22:%20%22data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICIAAD6AAAAgOgAAHUwAADqYAAA6pgAABdwnLpRPAAAABl0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMi42QHJeGAAAAHlJREFUOE/tkuEJwCAMRAMUqr+LHoXA9xMuhDs2CLMnJxcs2wv2DCJ6QRrr42nfx0zfJHovDlshYfjPAhUKIBu6AY/yxcAv6Ho0UDdc+vg67BkiAEREBrc1ABOFuMhZmULAAAAAElFTkSuQmCC%22,%22type%22:%20%22image/png%22,%22sizes%22:%20%22192x192%22%7D,%7B%22src%22:%20%22data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICIAAD6AAAAgOgAAHUwAADqYAAA6pgAABdwnLpRPAAAABl0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMi42QHJeGAAAAHlJREFUOE/tkuEJwCAMRAMUqr+LHoXA9xMuhDs2CLMnJxcs2wv2DCJ6QRrr42nfx0zfJHovDlshYfjPAhUKIBu6AY/yxcAv6Ho0UDdc+vg67BkiAEREBrc1ABOFuMhZmULAAAAAElFTkSuQmCC%22,%22type%22:%20%22image/png%22,%22sizes%22:%20%22512x512%22%7D%5D,%22start_url%22:%20%22.%22,%22background_color%22:%20%22%23ffffff%22,%22display%22:%20%22standalone%22,%22scope%22:%20%22.%22,%22theme_color%22:%20%22%23ffffff%22%7D">

    <!-- Service Worker registratie inline -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                const swBlob = new Blob([`
                    const CACHE_NAME = 'my-cache-v1';
                    const urlsToCache = ['/', '/index.html'];

                    self.addEventListener('install', (event) => {
                        event.waitUntil(
                            caches.open(CACHE_NAME).then((cache) => {
                                return cache.addAll(urlsToCache);
                            })
                        );
                    });

                    self.addEventListener('fetch', (event) => {
                        event.respondWith(
                            caches.match(event.request).then((response) => {
                                return response || fetch(event.request);
                            })
                        );
                    });
                `], { type: 'application/javascript' });

                const swUrl = URL.createObjectURL(swBlob);

                navigator.serviceWorker.register(swUrl)
                    .then(registration => {
                        console.log('ServiceWorker registratie succesvol met scope: ', registration.scope);
                    }, error => {
                        console.log('ServiceWorker registratie mislukt: ', error);
                    });
            });
        }
    </script>
</head>
<body>
    <h1>Welkom bij je Progressive Web App</h1>

    <!-- Placeholder icon images base64 encoded for simplicity -->
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAiElEQVR42mJshgZzLyoDA5FxiZGAUjAoEI9Ew4gZAOEEBkAjFZIEC4ATt+AZQZiAkQOC70DUM+woBuUPAFsAmTgX2TDM4Nxs2NgYGL9AOFbNYsVEKunoaN/NkACrI+BMOtgYQrcqlNvUZQMaXQrHgkhCEPbla7ORiLrBaGOi3OrZATGL0xtW4QyGdFELw+oR0yOA8A6g3ENbXaPAAAAAElFTkSuQmCC">
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAiElEQVR42mJshgZzLyoDA5FxiZGAUjAoEI9Ew4gZAOEEBkAjFZIEC4ATt+AZQZiAkQOC70DUM+woBuUPAFsAmTgX2TDM4Nxs2NgYGL9AOFbNYsVEKunoaN/NkACrI+BMOtgYQrcqlNvUZQMaXQrHgkhCEPbla7ORiLrBaGOi3OrZATGL0xtW4QyGdFELw+oR0yOA8A6g3ENbXaPAAAAAElFTkSuQmCC">

</body>
</html>
